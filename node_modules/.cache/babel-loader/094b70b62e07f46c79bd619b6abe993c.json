{"ast":null,"code":"var _jsxFileName = \"/home/elliot/Documents/computer-science/personal-projects/web/frameworks/React/personal-webpage/v0.2/src/pages/Project/Project.js\";\nimport React, { useEffect } from 'react';\nimport \"./Project.css\";\nimport { Navigate } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport { projects } from \"../../data/projects.js\";\nimport { gitResource } from \"../../requests/gitResource.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Project extends React.Component {\n  constructor(props) {\n    super(props);\n    this.hook = useParams();\n    this.state = {\n      project: null,\n      loaded: \"no\",\n      // options: yes, no, error, not-found\n      item: null\n    };\n  }\n\n  gitResource(url) {\n    const siteRoot = \"https://github.com\";\n    const re = new RegExp(siteRoot);\n\n    if (!url.match(re)) {\n      console.error(`Attempting to load ${url}, it was incorrectly formatted.`);\n      return {\n        \"error\": `bad formatting in url ${url}`\n      };\n    }\n\n    const apiRoot = \"https://api.github.com\";\n    const call = `${apiRoot}${url.split(siteRoot)[0]}`;\n    return fetch(call).then(r => {\n      if (!r.ok) {\n        console.error(`Attempting to load ${url}, got status ${r.status}.`);\n        return {\n          \"error\": `status ${r.status}`\n        };\n      }\n\n      return r.json();\n    });\n  }\n\n  componentDidMount() {\n    //cant be called after the return as react hooks are tempermental\n    const {\n      projectClass\n    } = this.hook;\n    let projectID = 0;\n\n    if (!projects.reduce((x, y) => {\n      if (!x) {\n        projectID++;\n      }\n\n      return x || y.name === projectClass;\n    }, false)) {\n      this.setState({\n        project: null,\n        loaded: \"not-found\",\n        item: null\n      });\n    } else {\n      this.setState({\n        project: projects[projectID],\n        loaded: \"no\",\n        item: null\n      });\n    }\n\n    document.title = `${projectClass} | Elliot Buckingham`;\n  }\n\n  render() {\n    switch (this.state.loaded) {\n      case \"no\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"content\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Fetching from github...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this);\n\n      case \"not-found\":\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/not-found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this);\n\n      case \"error\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"An error occured\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.errmsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: this.state.project.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this);\n    }\n  }\n\n}","map":{"version":3,"names":["React","useEffect","Navigate","useParams","projects","gitResource","Project","Component","constructor","props","hook","state","project","loaded","item","url","siteRoot","re","RegExp","match","console","error","apiRoot","call","split","fetch","then","r","ok","status","json","componentDidMount","projectClass","projectID","reduce","x","y","name","setState","document","title","render","errmsg"],"sources":["/home/elliot/Documents/computer-science/personal-projects/web/frameworks/React/personal-webpage/v0.2/src/pages/Project/Project.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport \"./Project.css\"\nimport {\n  Navigate\n} from \"react-router-dom\";\n\nimport {useParams} from \"react-router-dom\";\nimport {projects} from \"../../data/projects.js\"\nimport {gitResource} from \"../../requests/gitResource.js\";\n\nexport class Project extends React.Component {\n  constructor(props){\n    super(props);\n    this.hook = useParams();\n    this.state = {\n      project: null,\n      loaded: \"no\", // options: yes, no, error, not-found\n      item: null\n    }\n  }\n\n  gitResource(url){\n    const siteRoot = \"https://github.com\";\n    const re = new RegExp(siteRoot);\n    if(!url.match(re)) { \n      console.error(`Attempting to load ${url}, it was incorrectly formatted.`);\n      return {\"error\": `bad formatting in url ${url}`}; \n    }\n    const apiRoot = \"https://api.github.com\";\n    const call = `${apiRoot}${url.split(siteRoot)[0]}`;\n    return fetch(call).then(r => {\n          if(!r.ok) {\n            console.error(`Attempting to load ${url}, got status ${r.status}.`);\n            return {\"error\": `status ${r.status}`};\n          }\n  \n          return r.json()\n        }\n      );\n  }\n\n  componentDidMount(){ //cant be called after the return as react hooks are tempermental\n    const { projectClass } = this.hook;\n    let projectID = 0;\n    if(!projects.reduce((x, y) => { \n      if(!x) { projectID++; } \n      return (x || y.name === projectClass);\n    }, false)) { this.setState({\n        project: null, \n        loaded: \"not-found\",\n        item: null\n    })}else{\n      this.setState({\n        project: projects[projectID],\n        loaded: \"no\",\n        item: null\n      });\n    }\n    \n    document.title = `${projectClass} | Elliot Buckingham`;\n  }\n\n  render(){\n    switch(this.state.loaded){\n      case \"no\":\n        return( \n          <div id=\"content\">\n            <p>Fetching from github...</p>\n          </div>\n        )\n      case \"not-found\":\n        return( \n          <Navigate to=\"/not-found\" />\n        )\n      case \"error\":\n        return(\n          <div id=\"content\">\n            <h2>An error occured</h2>\n            <p>{this.state.errmsg}</p>\n          </div>\n        )\n      default:\n        return(\n          <div id=\"content\">\n            <h2>{this.state.project.name}</h2>\n            <p>{this.state.item}</p>\n          </div>\n        )\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}