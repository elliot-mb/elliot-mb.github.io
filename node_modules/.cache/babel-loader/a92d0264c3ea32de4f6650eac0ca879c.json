{"ast":null,"code":"var _jsxFileName = \"/home/elliot/Documents/computer-science/personal-projects/web/frameworks/React/personal-webpage/v0.2/src/requests/gitResource.js\";\n// export function gitResource(url){\n//   const siteRoot = \"https://github.com\";\n//   const re = new RegExp(siteRoot);\n//   if(!url.match(re)) { \n//     console.error(`Attempting to load ${url}, it was incorrectly formatted.`);\n//     return {\"error\": `bad formatting in url ${url}`}; \n//   }\n//   const apiRoot = \"https://api.github.com\";\n//   const call = `${apiRoot}${url.split(siteRoot)[0]}`;\n//   return fetch(call).then(r => {\n//         if(!r.ok) {\n//           console.error(`Attempting to load ${url}, got status ${r.status}.`);\n//           return {\"error\": `status ${r.status}`};\n//         }\n//         return r.json()\n//       }\n//     );\n// }\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class GitResource extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loaded: \"no\",\n      // options: yes, no, error\n      item: null\n    };\n  }\n\n  gitResource(url) {\n    const siteRoot = \"https://github.com\";\n    const re = new RegExp(siteRoot);\n\n    if (!url.match(re)) {\n      const e = `Attempting to load ${url}, it was incorrectly formatted.`;\n      console.error(e);\n      this.setState({\n        loaded: \"error\",\n        errmsg: e\n      });\n      return {};\n    }\n\n    const apiRoot = \"https://api.github.com\";\n    const call = `${apiRoot}${url.split(siteRoot)[0]}`;\n    fetch(call).then(r => {\n      if (!r.ok) {\n        const e = `Attempting to load ${url}, got status ${r.status}.`;\n        console.error(e);\n        this.setState({\n          loaded: \"error\",\n          errmsg: e\n        });\n      }\n\n      return r.json();\n    }).then(result => {\n      if (this.state.loaded !== error) {\n        this.setState({\n          loaded: \"yes\",\n          item: result\n        });\n      }\n    }, error => {\n      this.setState({\n        loaded: \"error\",\n        errmsg: \"Network error\"\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.gitResource(this.props.url);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this); // switch(this.state.loaded){\n    //   case \"no\":\n    //     return( \n    //       <div id=\"content\">\n    //         <p>Fetching from github...</p>\n    //       </div>\n    //     )\n    //   case \"not-found\":\n    //     return( \n    //       <Navigate to=\"/not-found\" />\n    //     )\n    //   case \"error\":\n    //     return(\n    //       <div id=\"content\">\n    //         <h2>An error occured</h2>\n    //         <p>{this.state.errmsg}</p>\n    //       </div>\n    //     )\n    //   default:\n    //     return(\n    //       <div id=\"content\">\n    //         <h2>{this.state.project.name}</h2>\n    //         <p>{this.state.item}</p>\n    //       </div>\n    //     )\n    // }\n  }\n\n}","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Link","GitResource","Component","constructor","props","state","loaded","item","gitResource","url","siteRoot","re","RegExp","match","e","console","error","setState","errmsg","apiRoot","call","split","fetch","then","r","ok","status","json","result","componentDidMount","render"],"sources":["/home/elliot/Documents/computer-science/personal-projects/web/frameworks/React/personal-webpage/v0.2/src/requests/gitResource.js"],"sourcesContent":["// export function gitResource(url){\n//   const siteRoot = \"https://github.com\";\n//   const re = new RegExp(siteRoot);\n//   if(!url.match(re)) { \n//     console.error(`Attempting to load ${url}, it was incorrectly formatted.`);\n//     return {\"error\": `bad formatting in url ${url}`}; \n//   }\n//   const apiRoot = \"https://api.github.com\";\n//   const call = `${apiRoot}${url.split(siteRoot)[0]}`;\n//   return fetch(call).then(r => {\n//         if(!r.ok) {\n//           console.error(`Attempting to load ${url}, got status ${r.status}.`);\n//           return {\"error\": `status ${r.status}`};\n//         }\n\n//         return r.json()\n//       }\n//     );\n// }\n\nimport React, { useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Link\n} from \"react-router-dom\";\n\nexport class GitResource extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      loaded: \"no\", // options: yes, no, error\n      item: null\n    }\n  }\n\n  gitResource(url){\n    const siteRoot = \"https://github.com\";\n    const re = new RegExp(siteRoot);\n    if(!url.match(re)) { \n      const e = `Attempting to load ${url}, it was incorrectly formatted.`;\n      console.error(e);\n      this.setState({loaded: \"error\", errmsg: e}); \n      return {};\n    }\n    const apiRoot = \"https://api.github.com\";\n    const call = `${apiRoot}${url.split(siteRoot)[0]}`;\n    fetch(call).then(r => {\n          if(!r.ok) {\n            const e = `Attempting to load ${url}, got status ${r.status}.`;\n            console.error(e);\n            this.setState({loaded: \"error\", errmsg: e}); \n          }\n  \n          return r.json()\n        })\n        .then(\n          (result) => {\n            if(this.state.loaded !== error){\n              this.setState({loaded: \"yes\", item: result});\n            }\n          }, \n          (error) => {\n            this.setState({loaded: \"error\", errmsg: \"Network error\"})\n          }\n        )\n  }\n\n  componentDidMount(){ \n    this.gitResource(this.props.url);\n  }\n\n  render(){\n    return(\n      <div>\n        <p>{this.state.item}</p>\n      </div>\n    )\n    // switch(this.state.loaded){\n    //   case \"no\":\n    //     return( \n    //       <div id=\"content\">\n    //         <p>Fetching from github...</p>\n    //       </div>\n    //     )\n    //   case \"not-found\":\n    //     return( \n    //       <Navigate to=\"/not-found\" />\n    //     )\n    //   case \"error\":\n    //     return(\n    //       <div id=\"content\">\n    //         <h2>An error occured</h2>\n    //         <p>{this.state.errmsg}</p>\n    //       </div>\n    //     )\n    //   default:\n    //     return(\n    //       <div id=\"content\">\n    //         <h2>{this.state.project.name}</h2>\n    //         <p>{this.state.item}</p>\n    //       </div>\n    //     )\n    // }\n  }\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,IAFF,QAGO,kBAHP;;AAKA,OAAO,MAAMC,WAAN,SAA0BL,KAAK,CAACM,SAAhC,CAA0C;EAC/CC,WAAW,CAACC,KAAD,EAAO;IAChB,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACXC,MAAM,EAAE,IADG;MACG;MACdC,IAAI,EAAE;IAFK,CAAb;EAID;;EAEDC,WAAW,CAACC,GAAD,EAAK;IACd,MAAMC,QAAQ,GAAG,oBAAjB;IACA,MAAMC,EAAE,GAAG,IAAIC,MAAJ,CAAWF,QAAX,CAAX;;IACA,IAAG,CAACD,GAAG,CAACI,KAAJ,CAAUF,EAAV,CAAJ,EAAmB;MACjB,MAAMG,CAAC,GAAI,sBAAqBL,GAAI,iCAApC;MACAM,OAAO,CAACC,KAAR,CAAcF,CAAd;MACA,KAAKG,QAAL,CAAc;QAACX,MAAM,EAAE,OAAT;QAAkBY,MAAM,EAAEJ;MAA1B,CAAd;MACA,OAAO,EAAP;IACD;;IACD,MAAMK,OAAO,GAAG,wBAAhB;IACA,MAAMC,IAAI,GAAI,GAAED,OAAQ,GAAEV,GAAG,CAACY,KAAJ,CAAUX,QAAV,EAAoB,CAApB,CAAuB,EAAjD;IACAY,KAAK,CAACF,IAAD,CAAL,CAAYG,IAAZ,CAAiBC,CAAC,IAAI;MAChB,IAAG,CAACA,CAAC,CAACC,EAAN,EAAU;QACR,MAAMX,CAAC,GAAI,sBAAqBL,GAAI,gBAAee,CAAC,CAACE,MAAO,GAA5D;QACAX,OAAO,CAACC,KAAR,CAAcF,CAAd;QACA,KAAKG,QAAL,CAAc;UAACX,MAAM,EAAE,OAAT;UAAkBY,MAAM,EAAEJ;QAA1B,CAAd;MACD;;MAED,OAAOU,CAAC,CAACG,IAAF,EAAP;IACD,CARL,EASKJ,IATL,CAUOK,MAAD,IAAY;MACV,IAAG,KAAKvB,KAAL,CAAWC,MAAX,KAAsBU,KAAzB,EAA+B;QAC7B,KAAKC,QAAL,CAAc;UAACX,MAAM,EAAE,KAAT;UAAgBC,IAAI,EAAEqB;QAAtB,CAAd;MACD;IACF,CAdP,EAeOZ,KAAD,IAAW;MACT,KAAKC,QAAL,CAAc;QAACX,MAAM,EAAE,OAAT;QAAkBY,MAAM,EAAE;MAA1B,CAAd;IACD,CAjBP;EAmBD;;EAEDW,iBAAiB,GAAE;IACjB,KAAKrB,WAAL,CAAiB,KAAKJ,KAAL,CAAWK,GAA5B;EACD;;EAEDqB,MAAM,GAAE;IACN,oBACE;MAAA,uBACE;QAAA,UAAI,KAAKzB,KAAL,CAAWE;MAAf;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,CADM,CAMN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACD;;AA7E8C"},"metadata":{},"sourceType":"module"}